# HTML入力フォームとPHP処理の例

このリポジトリでは、HTMLの主要な入力パーツを使用してPHPで処理を行うシンプルな例を紹介します。初心者が基本を学ぶための教材として役立つように設計されています。

## 前提条件

- PHPが動作するウェブサーバーが必要です（例: Apache, Nginx）。
- 必要に応じて、MySQLデータベースのセットアップも行います。
- すべてのコードは `UTF-8` を前提としています。

## 全体に共通するポイント

1. **セキュリティ:**
   - **エスケープ処理:**  
     入力値を安全に処理するために、HTMLに表示する際は `htmlspecialchars` を使用します。
   - **ファイルアップロード:**  
     ファイルの保存先を制限し、`basename()` でファイル名を検証します。

2. **フォームデータの送信:**
   - フォームは `POST` メソッドを使用します。`GET` メソッドはデータがURLに表示されるため、個人情報には適していません。

3. **ディレクトリとファイル権限:**
   - ファイルアップロードを扱う場合、`uploads/` ディレクトリには書き込み権限を設定してください。

4. **エラー処理:**
   - ファイルアップロードやデータベース操作では、エラー時の処理を必ず記述します。

---

# HTMLとPHP

## 各スクリプトの説明

### 1. テキスト入力フォーム (`text_input.php`)
- **用途:** 名前や簡単なテキストを入力する基本フォームです。
- **ポイント:**  
  ユーザーから送信された名前を画面に表示します。
  ```php
  echo "こんにちは、" . htmlspecialchars($name, ENT_QUOTES, 'UTF-8') . "さん！";
  ```

---

### 2. パスワード入力フォーム (`password_input.php`)
- **用途:** パスワードや秘密情報を入力するフォーム。
- **ポイント:**  
  パスワードは出力しない設計になっています。必要に応じてハッシュ化（例: `password_hash`）を行います。

---

### 3. ラジオボタン (`radio_input.php`)
- **用途:** ユーザーが選択肢の中から1つだけ選ぶ場合に使用します。
- **ポイント:**  
  ラジオボタンで選択された値を受け取り、出力します。
  ```php
  $gender = $_POST['gender'];
  echo "選択された性別: " . htmlspecialchars($gender, ENT_QUOTES, 'UTF-8');
  ```

---

### 4. チェックボックス (`checkbox_input.php`)
- **用途:** 複数の選択肢から1つ以上を選べる場合に使用します。
- **ポイント:**  
  選択された値は配列として受け取ります。`implode` を使用して出力します。
  ```php
  echo "選択されたフルーツ: " . htmlspecialchars(implode(', ', $fruits), ENT_QUOTES, 'UTF-8');
  ```

---

### 5. セレクトボックス (`select_input.php`)
- **用途:** 複数の選択肢から1つを選ぶ場合に使用します。
- **ポイント:**  
  選択された値を直接受け取り、画面に出力します。
  ```php
  $prefecture = $_POST['prefecture'];
  echo "選択された都道府県: " . htmlspecialchars($prefecture, ENT_QUOTES, 'UTF-8');
  ```

---

### 6. テキストエリア (`textarea_input.php`)
- **用途:** コメントや長文を入力するフォーム。
- **ポイント:**  
  テキストエリアの内容は改行を保持するため、`nl2br` を使用します。
  ```php
  echo "入力されたコメント: " . nl2br(htmlspecialchars($comment, ENT_QUOTES, 'UTF-8'));
  ```

---

### 7. ファイルアップロード (`file_input.php`)
- **用途:** 画像や文書ファイルなどをサーバーにアップロードする場合に使用します。
- **ポイント:**  
  - アップロードされたファイルは一時フォルダから安全なディレクトリに移動します。
  - エラー処理を行い、不正なファイルのアップロードを防ぎます。
  ```php
  move_uploaded_file($_FILES['file']['tmp_name'], "./uploads/" . $uploadedFileName);
  ```

---

# HTMLを介したSQLの操作

## 注意事項

1. **セキュリティ:**  
   実際のアプリケーションでは、以下の追加対策を行ってください。
   - 入力値のバリデーション
   - SQLインジェクション対策（例: PDOの使用）
   - CSRFトークンの実装

2. **ファイルアップロード:**  
   アップロード可能なファイル形式やサイズを制限してください。

3. **デバッグ:**  
   開発中はエラーを画面に表示するよう設定できますが、本番環境ではエラーログを活用してください。

---

## 実行方法

1. ローカルサーバー（例: `php -S localhost:8000`）またはApache等をセットアップします。
2. ブラウザで各HTMLフォームを開きます。
3. フォームに入力を行い、送信するとPHPスクリプトが実行されます。